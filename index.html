<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brawl Stars App - HTML/CSS/JS</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-image: url('https://i.pinimg.com/736x/f4/a5/24/f4a524dfe0be81ec783aea87e826b1ef.jpg');
            background-repeat: no-repeat;
            background-size: cover;
        }
        .text-inter {
            font-family: 'Inter', sans-serif;
        }
        /* Simple section animations */
        @keyframes fade-in-down {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fade-in-up {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-down {
            animation: fade-in-down 0.8s ease-out forwards;
        }
        .animate-fade-in-up {
            animation: fade-in-up 0.8s ease-out forwards;
            animation-delay: 0.2s; /* Cascade effect delay */
        }
        /* Styles for the map modal */
        .map-modal-overlay {
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }
        /* Updated rarity colors */
        .rarity-common { color: #FFFFFF; border-color: #FFFFFF; } /* White */
        .rarity-rare { color: #2ecc71; border-color: #2ecc71; } /* Green */
        .rarity-super-rare { color: #3498db; border-color: #3498db; } /* Blue */
        .rarity-epic { color: #9b59b6; border-color: #9b59b6; } /* Purple */
        .rarity-mythic { color: #e74c3c; border-color: #e74c3c; } /* Red */
        .rarity-legendary { color: #f1c40f; border-color: #f1c40f; } /* Yellow */
        .rarity-cromatico { color: #FF007F; border-color: #FF007F; } /* Magenta/Pink for Chromatic */

        /* Home section specific background */
        .home-background {
            background-color: rgba(0, 0, 0, 0.6); /* Dark overlay */
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .home-background::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.6); /* Dark overlay */
            z-index: 1;
        }

        .home-content {
            position: relative;
            z-index: 2;
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- Navigation Bar -->
    <nav class="bg-zinc-900 p-4 shadow-lg sticky top-0 z-50 rounded-b-lg m-4 border-b border-zinc-700">
        <div class="container mx-auto flex flex-wrap justify-between items-center">
            <button id="home-nav-button">
                <img src="hd-brawl-stars-logo-png-701751694787807fgd2stdjjh.png" alt="Brawl Stars Logo" class="h-16 w-16 object-contain" />
            </button>
            <div class="flex space-x-4 md:space-x-8 mt-2 md:mt-0">
                <button id="maps-nav-button" class="text-white hover:text-yellow-300 px-4 py-2 rounded-md text-lg font-medium transition duration-300">
                    Mappe
                </button>
                <button id="classes-nav-button" class="text-white hover:text-yellow-300 px-4 py-2 rounded-md text-lg font-medium transition duration-300">
                    Classi Brawler
                </button>
                <button id="brawlers-nav-button" class="text-white hover:text-yellow-300 px-4 py-2 rounded-md text-lg font-medium transition duration-300">
                    Brawlers
                </button>
                <button id="about-nav-button" class="text-white hover:text-yellow-300 px-4 py-2 rounded-md text-lg font-medium transition duration-300">
                    Info
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main id="content-area" class="container mx-auto p-4"></main>

    <!-- Modal for larger map view -->
    <div id="map-modal" class="fixed inset-0 map-modal-overlay flex items-center justify-center z-[100] hidden">
        <div class="relative bg-zinc-900 p-4 rounded-xl shadow-lg border border-zinc-700 max-w-4xl max-h-full overflow-auto">
            <button id="close-map-modal" class="absolute top-2 right-2 text-white text-3xl font-bold hover:text-red-500 focus:outline-none">&times;</button>
            <img id="modal-map-image" src="" alt="Mappa Dettagliata" class="w-full h-auto rounded-lg">
            <p id="modal-map-name" class="text-white text-xl mt-4 text-center"></p>
        </div>
    </div>

    <script>
        // Funzione per generare URL di immagini segnaposto con testo e colori specifici
        const getPlaceholderImage = (width, height, bgColor, textColor, text) => {
            return `https://placehold.co/${width}x%25height/${bgColor}/${textColor}?text=${encodeURIComponent(text)}`;
        };

        // Mappatura delle rarità ai colori esadecimali per testo e bordo
        const rarityColors = {
            "Comune": { text: "#FFFFFF", border: "#FFFFFF" },       // Bianco
            "Raro": { text: "#2ecc71", border: "#2ecc71" },         // Verde
            "Super Raro": { text: "#3498db", border: "#3498db" },   // Blu
            "Epico": { text: "#9b59b6", border: "#9b59b6" },        // Viola
            "Mitico": { text: "#e74c3c", border: "#e74c3c" },       // Rosso
            "Leggendario": { text: "#f1c40f", border: "#f1c40f" },  // Giallo
            "Cromatico": { text: "#FF007F", border: "#FF007F" }     // Magenta/Rosa
        };

        // Funzione per ottenere la classe CSS basata sulla rarità
        const getRarityClass = (rarity) => {
            if (rarityColors[rarity]) {
                // Sostituisce gli spazi con i trattini e converte in minuscolo per la classe CSS
                return `rarity-${rarity.toLowerCase().replace(/\s/g, '-')}`;
            }
            return ''; // Nessuna classe se la rarità non è mappata
        };
        // Funzione per ottenere il colore del testo della rarità
        const getRarityTextColor = (rarity) => {
            return rarityColors[rarity] ? rarityColors[rarity].text : '#bbbbbb'; // Grigio chiaro predefinito
        };
        // Funzione per ottenere il colore del bordo della rarità
        const getRarityBorderColor = (rarity) => {
            return rarityColors[rarity] ? rarityColors[rarity].border : 'transparent';
        };

        // Dati dei Brawler espansi con icone e statistiche dettagliate
        const allBrawlersData = [
            // Raro (AGGIORNATO)
            { name: "Shelly", description: "Una campionessa con un fucile a pompa letale a corto raggio.", rarity: "Raro", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000000.png", stats: { hp: 5300, attack: "Colpo di Fucile", attackDamage: 300, super: "Super Shotgun", superDamage: 400, gadgets: [{ name: "Dash", description: "Scatto veloce." }], starPowers: [{ name: "Conchiglia d'Acciaio", description: "Scudo per HP bassi." }] }, tips: ["Usa la super per distruggere i muri."] },
            { name: "Nita", description: "Evoca un orso che combatte al suo fianco.", rarity: "Raro", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000008.png", stats: { hp: 5000, attack: "Onda d'Urto", attackDamage: 800, super: "Orso Bruce", superDamage: 120, gadgets: [{ name: "Metti Zampa", description: "L'orso stordisce i nemici." }], starPowers: [{ name: "Orso Curativo", description: "L'orso cura Nita." }] }, tips: ["Usa l'orso per mettere pressione."] },
            { name: "Colt", description: "Un pistolero veloce con proiettili a lungo raggio.", rarity: "Raro", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000001.png", stats: { hp: 4000, attack: "Doppia Raffica", attackDamage: 360, super: "Proiettili D'Acciaio", superDamage: 420, gadgets: [{ name: "Caricatore Veloce", description: "Ricarica istantanea." }], starPowers: [{ name: "Stivali Leggeri", description: "Velocità aumentata." }] }, tips: ["Mira con precisione."] },
            { name: "Bull", description: "Un tank resistente con un fucile a pompa e una carica devastante.", rarity: "Raro", role: "Peso Massimo", icon: "https://cdn.brawlify.com/brawlers/borderless/16000002.png", stats: { hp: 7800, attack: "Fucile a Pompa", attackDamage: 400, super: "Bulldozer", superDamage: 800, gadgets: [{ name: "Ricarica", description: "Recupera salute." }], starPowers: [{ name: "Berserker", description: "Danno aumentato." }] }, tips: ["Carica per ridurre le distanze."] },
            { name: "Brock", description: "Un esperto di razzi con attacchi a lungo raggio e una super esplosiva.", rarity: "Raro", role: "Cecchino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000003.png", stats: { hp: 3600, attack: "Razzi a Pioggia", attackDamage: 1100, super: "Pioggia di Razzi", superDamage: 500, gadgets: [{ name: "Turbo Razzo", description: "Scatto veloce." }], starPowers: [{ name: "Danno Incendiario", description: "Fuoco a terra." }] }, tips: ["Sfrutta l'area della super."] },
            { name: "El Primo", description: "Il lottatore mascherato che salta in mischia.", rarity: "Raro", role: "Peso Massimo", icon: "https://cdn.brawlify.com/brawlers/borderless/16000010.png", stats: { hp: 8000, attack: "Pugni di Furia", attackDamage: 360, super: "El Fuego!", superDamage: 1000, gadgets: [{ name: "Suplex", description: "Lancia i nemici." }], starPowers: [{ name: "Meteorite di Fuoco", description: "La super incendia." }] }, tips: ["Aggredisci da vicino."] },
            { name: "Bombardino", description: "Un minatore che lancia dinamite con ampi danni ad area.", rarity: "Raro", role: "Artigliere", icon: "https://cdn.brawlify.com/brawlers/borderless/16000006.png", stats: { hp: 3600, attack: "Barili di Dinamite", attackDamage: 900, super: "Mina Vagante", superDamage: 1800, gadgets: [{ name: "Mina Stordente", description: "La mina esplode e stordisce." }], starPowers: [{ name: "Mine Veloci", description: "Mine più veloci." }] }, tips: ["Attacca da dietro i muri."] },
            { name: "Poco", description: "Il mariachi che cura e danneggia con la musica.", rarity: "Raro", role: "Supporto", icon: "https://cdn.brawlify.com/brawlers/borderless/16000013.png", stats: { hp: 6000, attack: "Potere della Musica", attackDamage: 700, super: "Encore", superHealing: 2940, gadgets: [{ name: "Accordatura Improvvisata", description: "Cura ad area." }], starPowers: [{ name: "Maledizione", description: "Danno attraverso gli ostacoli." }] }, tips: ["Cura i tuoi alleati."] },
            { name: "Rosa", description: "Una botanica pugile che diventa invincibile con la sua super.", rarity: "Raro", role: "Peso Massimo", icon: "https://cdn.brawlify.com/brawlers/borderless/16000024.png", stats: { hp: 8000, attack: "Pugni di Vita", attackDamage: 480, super: "Pelle Dura", superDamageReduction: "70%", gadgets: [{ name: "Piante Spinose", description: "Cespugli protettivi." }], starPowers: [{ name: "Fiori Curativi", description: "Cura nei cespugli." }] }, tips: ["Attiva la super per attaccare."] },

            // Super Raro
            { name: "Jessie", description: "Una scienziata che schiera una torretta che spara ai nemici.", rarity: "Super Raro", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000007.png", stats: { hp: 4800, attack: "Shock Ricochet", attackDamage: 1060, super: "Torretta Scrappy", superDamage: 280, gadgets: [{ name: "Molla a Molla", description: "La torretta spara più velocemente." }], starPowers: [{ name: "Ricarica", description: "La torretta si cura da sola." }] }, tips: ["Posiziona la torretta strategicamente."] },
            { name: "Dynamike", description: "Un esperto di esplosivi che lancia barili di dinamite.", rarity: "Super Raro", role: "Artigliere", icon: "https://cdn.brawlify.com/brawlers/borderless/16000009.png", stats: { hp: 3600, attack: "Attacco con Dinamite", attackDamage: 800, super: "Big Bomb", superDamage: 2000, gadgets: [{ name: "Salto Tattico", description: "Dynamike salta." }], starPowers: [{ name: "Dyna-Jump", description: "Salta sopra gli ostacoli." }] }, tips: ["Prevedi i movimenti nemici."] },
            { name: "Tick", description: "Un robot esplosivo che lancia mine e fa esplodere la sua testa.", rarity: "Super Raro", role: "Artigliere", icon: "https://cdn.brawlify.com/brawlers/borderless/16000022.png", stats: { hp: 3000, attack: "Mini Mine", attackDamage: 700, super: "Testa Pazza", superDamage: 1000, gadgets: [{ name: "Fuga d'Emergenza", description: "Scatto e cura." }], starPowers: [{ name: "Fuoco Rapido", description: "Mine più veloci." }] }, tips: ["Zona d'area per i nemici."] },
            { name: "8-Bit", description: "Una macchina da gioco con attacchi laser e una torretta potenziante.", rarity: "Super Raro", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000027.png", stats: { hp: 6000, attack: "Laser Blaster", attackDamage: 380, super: "Caricatore Amplificatore", superBoost: "50%", gadgets: [{ name: "Warp", description: "Si teletrasporta alla torretta." }], starPowers: [{ name: "Carica Potenziata", description: "Bonus velocità." }] }, tips: ["Posiziona la torretta per la squadra."] },
            { name: "Stecca", description: "Un robot che fa rimbalzare i colpi sui muri.", rarity: "Super Raro", role: "Cecchino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000004.png", stats: { hp: 3800, attack: "Palla Rimbalzante", attackDamage: 500, super: "Furia Rimbalzante", superDamage: 300, gadgets: [{ name: "Ricarica Veloce", description: "Ricarica munizioni." }], starPowers: [{ name: "Supersballo", description: "I colpi rimbalzanti potenziano." }] }, tips: ["Sfrutta i muri."] },
            { name: "Darryl", description: "Un robot pirata con una super che rotola e danneggia.", rarity: "Super Raro", role: "Peso Massimo", icon: "https://cdn.brawlify.com/brawlers/borderless/16000018.png", stats: { hp: 6000, attack: "Doppi Spari", attackDamage: 400, super: "Rotolamento", superDamage: 600, gadgets: [{ name: "Rotolamento Curativo", description: "Si cura durante la super." }], starPowers: [{ name: "Bucaniere", description: "Scudo per la super." }] }, tips: ["Usalo per ingaggiare."] },
            { name: "Penny", description: "Una piratessa che spara sacchi d'oro e un cannone nascosto.", rarity: "Super Raro", role: "Artigliere", icon: "https://cdn.brawlify.com/brawlers/borderless/16000019.png", stats: { hp: 4200, attack: "Sacchi d'Oro", attackDamage: 900, super: "Mortaio da Pirata", superDamage: 1200, gadgets: [{ name: "Mina di Saccheggio", description: "Crea trappole." }], starPowers: [{ name: "Palla Infuocata", description: "Il mortaio incendia." }] }, tips: ["Posiziona il mortaio lontano."] },
            { name: "Carl", description: "Un minatore che lancia il suo piccone come un boomerang.", rarity: "Super Raro", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000025.png", stats: { hp: 5000, attack: "Piccone Boomerang", attackDamage: 600, super: "Tornado", superDamage: 400, gadgets: [{ name: "Accelerazione", description: "Aumenta la velocità." }], starPowers: [{ name: "Lancio Rapido", description: "Il piccone ritorna più velocemente." }] }, tips: ["Sfrutta il ritorno del piccone."] },
            { name: "Jacky", description: "Una minatrice con un martello pneumatico che attrae i nemici.", rarity: "Super Raro", role: "Peso Massimo", icon: "https://cdn.brawlify.com/brawlers/borderless/16000034.png", stats: { hp: 7000, attack: "Sisma", attackDamage: 1200, super: "Trapano Attira-Brawler", superDamage: 200, gadgets: [{ name: "Aria Condizionata", description: "Scudo temporaneo." }], starPowers: [{ name: "Contraccolpo", description: "Danno aggiuntivo." }] }, tips: ["Attira i nemici per danneggiarli."] },
            { name: "Gus", description: "Un fantasma che evoca un palloncino spettrale e cura gli alleati.", rarity: "Super Raro", role: "Supporto", icon: "https://cdn.brawlify.com/brawlers/borderless/16000061.png", stats: { hp: 4000, attack: "Palloncino Spettrale", attackDamage: 600, super: "Anima Gemella", superHealing: 2000, gadgets: [{ name: "Fantasma Amico", description: "Cura gli alleati vicini." }], starPowers: [{ name: "Scudo Spiritello", description: "Scudo per gli alleati." }] }, tips: ["Rimani vicino ai tuoi alleati."] },

            // Epico
            { name: "Bo", description: "Un arciere che spara frecce esplosive e piazza mine invisibili.", rarity: "Epico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000014.png", stats: { hp: 6000, attack: "Frecce Esplosive", attackDamage: 800, super: "Trappola Caccia", superDamage: 500, gadgets: [{ name: "Occhio di Falco", description: "Le mine rivelano i nemici." }], starPowers: [{ name: "Aquila Cacciatrice", description: "Visione nei cespugli." }] }, tips: ["Piazza mine per controllare."] },
            { name: "Emz", description: "Un'influencer zombie che spruzza una nuvola tossica.", rarity: "Epico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000030.png", stats: { hp: 5000, attack: "Nuvola di Spray", attackDamage: 400, super: "Karma", superDamage: 200, gadgets: [{ name: "Hype", description: "Si cura ogni secondo." }], starPowers: [{ name: "Onda di Shock", description: "La super rallenta." }] }, tips: ["Mantieni la distanza."] },
            { name: "Stu", description: "Un robot acrobatico che scatta velocemente e lascia scie infuocate.", rarity: "Epico", role: "Assassino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000045.png", stats: { hp: 4000, attack: "Un due tre GO!", attackDamage: 500, super: "Zero Frizione", superDamage: 200, gadgets: [{ name: "Nitro Boost", description: "Scatto veloce." }], starPowers: [{ name: "Brucia Tutto", description: "La super incendia." }] }, tips: ["Scatta per caricare la super."] },
            { name: "Piper", description: "Un cecchino elegante che infligge più danni più è lontana.", rarity: "Epico", role: "Cecchino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000015.png", stats: { hp: 3600, attack: "Ombrello Preciso", attackDamage: 1520, super: "Volo d'Amore", superDamage: 200, gadgets: [{ name: "Spilla a Scatto", description: "Rallenta i nemici." }], starPowers: [{ name: "Ambush", description: "Bonus danno dai cespugli." }] }, tips: ["Mantieni la massima distanza."] },
            { name: "Pam", description: "Una meccanica con una torretta curativa e attacchi ad area.", rarity: "Epico", role: "Supporto", icon: "https://cdn.brawlify.com/brawlers/borderless/16000016.png", stats: { hp: 8000, attack: "Raffica di Rottami", attackDamage: 300, super: "Torretta Medica", superHealing: 480, gadgets: [{ name: "Pulizia Medica", description: "Cura istantanea." }], starPowers: [{ name: "Saccheggio", description: "Si cura con gli attacchi." }] }, tips: ["Posiziona la torretta dietro una copertura."] },
            { name: "Frank", description: "Un tank lento ma potente che stordisce i nemici.", rarity: "Epico", role: "Peso Massimo", icon: "https://cdn.brawlify.com/brawlers/borderless/16000020.png", stats: { hp: 8400, attack: "Hammer Hit", attackDamage: 1200, super: "Stun Flick", superDuration: "3 sec", gadgets: [{ name: "Cuffie", description: "Immune allo stordimento." }], starPowers: [{ name: "Spugna", description: "HP extra." }] }, tips: ["Coordina la super."] },
            { name: "Bibi", description: "Una battitrice di baseball con una bolla che respinge i nemici.", rarity: "Epico", role: "Peso Massimo", icon: "https://cdn.brawlify.com/brawlers/borderless/16000026.png", stats: { hp: 5800, attack: "Home Run", attackDamage: 1300, super: "Bolla Rimbalzante", superDamage: 1000, gadgets: [{ name: "Gomito a Gomito", description: "Si cura con l'attacco." }], starPowers: [{ name: "Velocità Extra", description: "Bonus velocità." }] }, tips: ["Usa la bolla per spingere."] },
            { name: "Bea", description: "Un cecchino con un pungiglione che diventa più forte dopo ogni colpo.", rarity: "Epico", role: "Cecchino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000029.png", stats: { hp: 3600, attack: "Fucile Aculeo", attackDamage: 800, super: "Sciame di Api", superDamage: 100, gadgets: [{ name: "Miele Appiccicoso", description: "Rallenta i nemici." }], starPowers: [{ name: "Sciame Impetuoso", description: "Scudo per HP bassi." }] }, tips: ["Sfrutta i colpi potenziati."] },
            { name: "Nani", description: "Un robot con un occhio che spara proiettili controllabili.", rarity: "Epico", role: "Cecchino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000036.png", stats: { hp: 3400, attack: "Traguardo Perfetto", attackDamage: 700, super: "Controllo Remoto", superDamage: 1400, gadgets: [{ name: "Warp Blast", description: "Teletrasporto." }], starPowers: [{ name: "Scudo Riflettente", description: "Danno ridotto con la super." }] }, tips: ["Usa la super per i nemici nascosti."] },
            { name: "Edgar", description: "Un emo che ruba vita con i pugni e carica la super automaticamente.", rarity: "Epico", role: "Assassino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000043.png", stats: { hp: 3800, attack: "Pugni Curativi", attackDamage: 600, super: "Salto Ombra", superDamage: 200, gadgets: [{ name: "Frutto Energizzante", description: "Cura istantanea." }], starPowers: [{ name: "Atterraggio Morbido", description: "Velocità all'atterraggio." }] }, tips: ["Salta sui brawler con pochi HP."] },
            { name: "Griff", description: "Un cassiere che lancia monete e banconote esplosive.", rarity: "Epico", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000050.png", stats: { hp: 4200, attack: "Vincite Veloci", attackDamage: 300, super: "Rimborsi", superDamage: 1000, gadgets: [{ name: "Bonus Semplice", description: "Ricarica veloce." }], starPowers: [{ name: "Moneta Forte", description: "Bonus danno." }] }, tips: ["Rimborsi per distruggere i muri."] },
            { name: "Grom", description: "Una guardia di parco giochi che lancia bombe e salta con la sua super.", rarity: "Epico", role: "Artigliere", icon: "https://cdn.brawlify.com/brawlers/borderless/16000048.png", stats: { hp: 4000, attack: "Palla Bomba", attackDamage: 900, super: "Granata a Caduta", superDamage: 1500, gadgets: [{ name: "Bombe a Palla", description: "Tre piccole bombe." }], starPowers: [{ name: "Attacco a Raffica", description: "Bombe più veloci." }] }, tips: ["Usa le bombe per zonare."] },
            { name: "Bonnie", description: "Una ragazza che combatte su un cannone o a piedi.", rarity: "Epico", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000058.png", stats: { hp: 5000, attack: "Colpo Cannone", attackDamage: 1000, super: "Salto dalla Bocca", superDamage: 800, gadgets: [{ name: "Fuoco Rapido", description: "Attacchi veloci." }], starPowers: [{ name: "Scarica Fredda", description: "Rallenta i nemici." }] }, tips: ["Cambia forma per adattarti."] },
            { name: "Gale", description: "Un vecchio che soffia neve e crea tempeste.", rarity: "Epico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000035.png", stats: { hp: 4000, attack: "Ventata Fredda", attackDamage: 300, super: "Grande Tempesta di Neve", superDamage: 100, gadgets: [{ name: "Trampolino", description: "Salta sopra gli ostacoli." }], starPowers: [{ name: "Vento Favorevole", description: "Aumenta la velocità degli alleati." }] }, tips: ["Usa la super per spingere."] },
            { name: "Colette", description: "Una brawler ossessiva che infligge danni in base alla salute del nemico.", rarity: "Epico", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000039.png", stats: { hp: 4000, attack: "Tassa sul Danno", attackDamage: "37% HP", super: "Ritorno di Fiamma", superDamage: 1000, gadgets: [{ name: "Ricatto", description: "Danno istantaneo." }], starPowers: [{ name: "Ricorda la Tassa", description: "Si cura con la super." }] }, tips: ["Finisci i nemici con poca salute."] },
            { name: "Belle", description: "Un cecchino che spara un colpo propagante che marchia i nemici.", rarity: "Epico", role: "Cecchino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000046.png", stats: { hp: 3800, attack: "Colpo Elettrizzante", attackDamage: 1000, super: "Marchio di Vendetta", superDamage: 500, gadgets: [{ name: "Nido Elettrificato", description: "Crea trappole." }], starPowers: [{ name: "Shock Rimbalzante", description: "Gli attacchi rimbalzano." }] }, tips: ["Marchia i tank per la squadra."] },
            { name: "Ash", description: "Un tank bidone della spazzatura che diventa più forte quando subisce danni.", rarity: "Epico", role: "Peso Massimo", icon: "https://cdn.brawlify.com/brawlers/borderless/16000051.png", stats: { hp: 7000, attack: "Spazzata Furiosa", attackDamage: 800, super: "Spazzini Robot", superDamage: 400, gadgets: [{ name: "Ricarica Rapida", description: "Ricarica super." }], starPowers: [{ name: "Rabbia Scatenata", description: "La super dura più a lungo." }] }, tips: ["Rabbia per il massimo danno."] },
            { name: "Lola", description: "Una star del cinema che spara gioielli e proietta un'ombra.", rarity: "Epico", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000053.png", stats: { hp: 4000, attack: "Gioielli Scintillanti", attackDamage: 300, super: "Ombra Protettiva", superDamage: 200, gadgets: [{ name: "Occhio di Lince", description: "Scudo per l'ombra." }], starPowers: [{ name: "Sguardo Affascinante", description: "Cura l'ombra." }] }, tips: ["Posiziona l'ombra strategicamente."] },
            { name: "Sam", description: "Un pugile tosto con guantoni robotici che può lanciare e recuperare.", rarity: "Epico", role: "Peso Massimo", icon: "https://cdn.brawlify.com/brawlers/borderless/16000060.png", stats: { hp: 7600, attack: "Guantoni Pesanti", attackDamage: 1100, super: "Guantoni Ricadenti", superDamage: 1000, gadgets: [{ name: "Aggancio", description: "Attira i nemici." }], starPowers: [{ name: "Guantoni Caricati", description: "La super si ricarica più velocemente." }] }, tips: ["Recupera i guantoni per la super."] },
            { name: "Mandy", description: "Una regina delle caramelle che spara caramelle gommose e un raggio di zucchero a lungo raggio.", rarity: "Epico", role: "Cecchino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000065.png", stats: { hp: 3800, attack: "Caramella Gommosa", attackDamage: 900, super: "Raggio di Zucchero", superDamage: 300, gadgets: [{ name: "Mischia Dolciaria", description: "Rallenta i nemici." }], starPowers: [{ name: "Dolce Vendetta", description: "Si cura dopo la super." }] }, tips: ["Sfrutta il raggio a lungo raggio."] },
            { name: "Maisie", description: "Un'esperta di effetti che lancia proiettili acceleranti.", rarity: "Epico", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000068.png", stats: { hp: 4400, attack: "Proiettile Propulso", attackDamage: 900, super: "Esplosione Controllata", superDamage: 1200, gadgets: [{ name: "Fuga Drammatica", description: "Scatto veloce." }], starPowers: [{ name: "Effetto Sorpresa", description: "La super stordisce." }] }, tips: ["Colpi a lungo raggio per la super."] },
            { name: "Hank", description: "Un pescatore che gonfia un palloncino d'acqua e lo rilascia per infliggere danni.", rarity: "Epico", role: "Peso Massimo", icon: "https://cdn.brawlify.com/brawlers/borderless/16000069.png", stats: { hp: 6000, attack: "Palloncino d'Acqua", attackDamage: 800, super: "Bolla d'Aria", superDamage: 400, gadgets: [{ name: "Bolla Scudo", description: "Scudo per il palloncino." }], starPowers: [{ name: "Soffio Forte", description: "Palloncino più veloce." }] }, tips: ["Gonfia il palloncino per il massimo danno."] },
            { name: "Pearl", description: "Un robot chef che spara biscotti e ha un forno che si surriscalda.", rarity: "Epico", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000072.png", stats: { hp: 5000, attack: "Biscotti Croccanti", attackDamage: 400, super: "Forno Ardente", superDamage: 1000, gadgets: [{ name: "Sfornata Veloce", description: "Attacca velocemente." }], starPowers: [{ name: "Calore Residuale", description: "Bonus danno per il surriscaldamento." }] }, tips: ["Massimizza il surriscaldamento."] },
            { name: "Larry & Lawrie", description: "Due gemelli poliziotti che lanciano granate e schierano droni.", rarity: "Epico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000077.png", stats: { hp: 4200, attack: "Granata Gemella", attackDamage: 600, super: "Droni di Pattuglia", superDamage: 200, gadgets: [{ name: "Sbarramento", description: "Granate rapide." }], starPowers: [{ name: "Rafforzamento", description: "I droni curano." }] }, tips: ["Usa i droni per mettere pressione."] },
            { name: "Angelo", description: "Un angelo arciere che spara frecce precise e lascia una scia curativa.", rarity: "Epico", role: "Supporto", icon: "https://cdn.brawlify.com/brawlers/borderless/16000079.png", stats: { hp: 3600, attack: "Freccia Divina", attackDamage: 1000, super: "Scia Celestiale", superHealing: 300, gadgets: [{ name: "Volo Etereo", description: "Scatto veloce." }], starPowers: [{ name: "Cura Divina", description: "La scia cura di più." }] }, tips: ["Sfrutta la scia curativa."] },
            { name: "Berry", description: "Un cuoco che lancia bacche esplosive e crea un'area appiccicosa.", rarity: "Epico", role: "Artigliere", icon: "https://cdn.brawlify.com/brawlers/borderless/16000082.png", stats: { hp: 4000, attack: "Lancio di Bacche", attackDamage: 700, super: "Area Appiccicosa", superDamage: 100, gadgets: [{ name: "Bomba Appiccicosa", description: "La bomba rallenta." }], starPowers: [{ name: "Crescita Rapida", description: "Bacche più grandi." }] }, tips: ["Blocca le vie di fuga."] },
            { name: "Shade", description: "Un ninja ombra che si teletrasporta e attacca con lame veloci.", rarity: "Epico", role: "Assassino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000086.png", stats: { hp: 4000, attack: "Lama d'Ombra", attackDamage: 800, super: "Teletrasporto Ombra", superDamage: 0, gadgets: [{ name: "Confusione", description: "Crea un clone." }], starPowers: [{ name: "Ombra Letale", description: "Bonus danno dopo il teletrasporto." }] }, tips: ["Usa il teletrasporto per sorprendere."] },
            { name: "Meeple", description: "Un costruttore che schiera blocchi e muri e lancia bulloni.", rarity: "Epico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000089.png", stats: { hp: 5000, attack: "Lancio Bulloni", attackDamage: 600, super: "Mura Protettive", superHp: 2000, gadgets: [{ name: "Torretta Difensiva", description: "Schiera una torretta." }], starPowers: [{ name: "Baluardo", description: "I muri durano più a lungo." }] }, tips: ["Crea copertura per la squadra."] },

            // Mitico
            { name: "Mortis", description: "Un assassino veloce che scatta per infliggere danni.", rarity: "Mitico", role: "Assassino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000011.png", stats: { hp: 5300, attack: "Pala Balenante", attackDamage: 900, super: "Assalto Sanguinario", superHealing: 1000, gadgets: [{ name: "Giro del Terrore", description: "Scatto extra." }], starPowers: [{ name: "Raccolta di Anime", description: "Si cura dopo il KO." }] }, tips: ["Caccia i brawler deboli."] },
            { name: "Tara", description: "Una mistica che evoca un buco nero e lancia carte.", rarity: "Mitico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000017.png", stats: { hp: 4800, attack: "Carte Ombra", attackDamage: 400, super: "Buco Nero", superDamage: 800, gadgets: [{ name: "Visione Mistica", description: "Rivela i nemici." }], starPowers: [{ name: "Ombra Curativa", description: "Evoca un clone curativo." }] }, tips: ["Usa la super per raggruppare i nemici."] },
            { name: "Gene", description: "Un genio che lancia una palla magica e attrae i nemici verso di sé.", rarity: "Mitico", role: "Supporto", icon: "https://cdn.brawlify.com/brawlers/borderless/16000021.png", stats: { hp: 4400, attack: "Palla Magica", attackDamage: 1000, super: "Mano del Genio", superDamage: 0, gadgets: [{ name: "Lampada Magica", description: "Cura gli alleati." }], starPowers: [{ name: "Soffio Curativo", description: "Cura gli alleati vicini." }] }, tips: ["Attira i nemici pericolosi."] },
            { name: "Max", description: "Una velocista che spara laser e potenzia la velocità degli alleati.", rarity: "Mitico", role: "Supporto", icon: "https://cdn.brawlify.com/brawlers/borderless/16000032.png", stats: { hp: 4000, attack: "Raffica di Laser", attackDamage: 340, super: "Super Scarica", superBoost: "30%", gadgets: [{ name: "Fuga Rapida", description: "Scatto veloce." }], starPowers: [{ name: "Carica Rapida", description: "La super si ricarica più velocemente." }] }, tips: ["Usa la super per il posizionamento."] },
            { name: "Mr. P", description: "Un pinguino che lancia valigie e schiera facchini robotici.", rarity: "Mitico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000031.png", stats: { hp: 4000, attack: "Lancio Valigia", attackDamage: 700, super: "Base dei Facchini", superHp: 1500, gadgets: [{ name: "Ricerca Valigie", description: "Danno della valigia aumentato." }], starPowers: [{ name: "Portiere d'Elite", description: "Facchini più forti." }] }, tips: ["Usa la base per distrarre."] },
            { name: "Sprout", description: "Un robot vegetale che lancia semi rimbalzanti e crea muri vegetali.", rarity: "Mitico", role: "Artigliere", icon: "https://cdn.brawlify.com/brawlers/borderless/16000037.png", stats: { hp: 4000, attack: "Seme Rimbalzante", attackDamage: 1000, super: "Muro Vegetale", superHp: 3000, gadgets: [{ name: "Protezione", description: "Scudo per Sprout." }], starPowers: [{ name: "Super Crescita", description: "Super più grande." }] }, tips: ["Usa i muri per intrappolare."] },
            { name: "Byron", description: "Un farmacista che cura gli alleati e avvelena i nemici.", rarity: "Mitico", role: "Supporto", icon: "https://cdn.brawlify.com/brawlers/borderless/16000042.png", stats: { hp: 3800, attack: "Dose Letale", attackDamage: 500, super: "Dose Massima", superHealing: 1000, gadgets: [{ name: "Stimolante", description: "Ricarica veloce." }], starPowers: [{ name: "Iniezione Fulminea", description: "Bonus danno per il veleno." }] }, tips: ["Bilancia cura e danno."] },
            { name: "Squeak", description: "Una massa di melma vivente che lancia bombe appiccicose.", rarity: "Mitico", role: "Artigliere", icon: "https://cdn.brawlify.com/brawlers/borderless/16000047.png", stats: { hp: 3600, attack: "Bomba di Goo", attackDamage: 1000, super: "Bomba Peggiorativa", superDamage: 1200, gadgets: [{ name: "Infezione", description: "La bomba crea più melma." }], starPowers: [{ name: "Appiccicoso", description: "La bomba si attacca." }] }, tips: ["Lancia bombe dietro i muri."] },
            { name: "Lou", description: "Un robot gelataio che rallenta i nemici e crea una superficie scivolosa.", rarity: "Mitico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000041.png", stats: { hp: 4600, attack: "Cono di Ghiaccio", attackDamage: 400, super: "Super Congelamento", superDamage: 100, gadgets: [{ name: "Ghiaccio Freddo", description: "Congela i nemici." }], starPowers: [{ name: "Congelamento", description: "Rallenta di più." }] }, tips: ["Usa la super per bloccare le aree."] },
            { name: "Ruffs", description: "Un colonnello spaziale che potenzia gli alleati con pacchetti di rinforzo.", rarity: "Mitico", role: "Supporto", icon: "https://cdn.brawlify.com/brawlers/borderless/16000044.png", stats: { hp: 4800, attack: "Raffica di Colpi", attackDamage: 400, super: "Pacchetto di Potenziamento", superBoost: "20%", gadgets: [{ name: "Scudo Protettivo", description: "Scudo per sé." }], starPowers: [{ name: "Danno Aumentato", description: "Bonus danno per gli alleati." }] }, tips: ["Potenzia tank o cecchini."] },
            { name: "Buzz", description: "Un bagnino dinosauro che si ricarica con la sua super e stordisce i nemici.", rarity: "Mitico", role: "Assassino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000049.png", stats: { hp: 6000, attack: "Pugni Acquatici", attackDamage: 500, super: "Salto del Bagnino", superDamage: 200, gadgets: [{ name: "Sapore di Sale", description: "Si cura con la super." }], starPowers: [{ name: "Allerta Rossa", description: "La super si ricarica più velocemente." }] }, tips: ["Avvicinati ai nemici per la super."] },
            { name: "Fang", description: "Un artista marziale che calcia proiettili e scatta attraverso i nemici.", rarity: "Mitico", role: "Assassino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000054.png", stats: { hp: 5600, attack: "Calcio Volante", attackDamage: 800, super: "Calcio di Furia", superDamage: 1000, gadgets: [{ name: "Rotolo di Riso", description: "Cura istantanea." }], starPowers: [{ name: "Scatto Furioso", description: "Scatto veloce dopo la super." }] }, tips: ["Usa la super per attacchi a catena."] },
            { name: "Eve", description: "Una pulce aliena che depone uova e genera piccoli alieni.", rarity: "Mitico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000056.png", stats: { hp: 3600, attack: "Uovo Sgorgante", attackDamage: 500, super: "Nido Alieno", superDamage: 100, gadgets: [{ name: "Uovo Esplosivo", description: "L'uovo esplode." }], starPowers: [{ name: "Cova Svelta", description: "Piccoli alieni più veloci." }] }, tips: ["Usa gli alieni per mettere pressione."] },
            { name: "Janet", description: "Una cantante che spara note musicali e vola con il suo jetpack.", rarity: "Mitico", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000057.png", stats: { hp: 4200, attack: "Nota Acuta", attackDamage: 800, super: "Volata Aerea", superDamage: 300, gadgets: [{ name: "Raffica di Note", description: "Attacchi veloci." }], starPowers: [{ name: "Volata Curativa", description: "Si cura durante il volo." }] }, tips: ["Vola per scappare o attaccare."] },
            { name: "Otis", description: "Un mostro marino che spara inchiostro e silenzia i nemici.", rarity: "Mitico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000059.png", stats: { hp: 5000, attack: "Schizzo d'Inchiostro", attackDamage: 400, super: "Silenzio Marino", superDuration: "3 sec", gadgets: [{ name: "Inchiostro Appiccicoso", description: "Rallenta i nemici." }], starPowers: [{ name: "Danno Profondo", description: "Bonus danno per l'inchiostro." }] }, tips: ["Silenzia i brawler pericolosi."] },
            { name: "Buster", description: "Un proiettore tank che devia proiettili e riflette i danni.", rarity: "Mitico", role: "Peso Massimo", icon: "https://cdn.brawlify.com/brawlers/borderless/16000062.png", stats: { hp: 8000, attack: "Telecamera a Spruzzo", attackDamage: 1200, super: "Mega Scudo", superDamageReduction: "90%", gadgets: [{ name: "Ricarica Istantanea", description: "Ricarica super." }], starPowers: [{ name: "Riflesso", description: "Riflette i danni." }] }, tips: ["Usa lo scudo per proteggere."] },
            { name: "Gray", description: "Un illusionista che crea portali per teletrasportarsi e attirare i nemici.", rarity: "Mitico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000064.png", stats: { hp: 4000, attack: "Illusione di Pistola", attackDamage: 900, super: "Portali Illusori", superDamage: 0, gadgets: [{ name: "Trappola Illusoria", description: "Crea una trappola finta." }], starPowers: [{ name: "Teletrasporto Rapido", description: "Portali più veloci." }] }, tips: ["Teletrasportati per aggirare."] },
            { name: "R-T", description: "Un robot che si divide in due forme con abilità diverse.", rarity: "Mitico", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000066.png", stats: { hp: 5000, attack: "Colpo Preciso", attackDamage: 600, super: "Divisione", superDamage: 0, gadgets: [{ name: "Riconfigurazione", description: "Cambia forma." }], starPowers: [{ name: "Doppio Danno", description: "Entrambe le forme infliggono più danni." }] }, tips: ["Sfrutta le due forme."] },
            { name: "Willow", description: "Una strega che incanta i nemici e li controlla.", rarity: "Mitico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000067.png", stats: { hp: 3600, attack: "Incantesimo Acido", attackDamage: 700, super: "Controllo Mentale", superDuration: "2 sec", gadgets: [{ name: "Fiala del Sonno", description: "Fa addormentare i nemici." }], starPowers: [{ name: "Mente Controllata", description: "La super dura più a lungo." }] }, tips: ["Controlla i brawler nemici."] },
            { name: "Doug", description: "Un chiosco di hot dog vivente che cura e rianima gli alleati.", rarity: "Mitico", role: "Supporto", icon: "https://cdn.brawlify.com/brawlers/borderless/16000071.png", stats: { hp: 6000, attack: "Salsiccia Curativa", attackHealing: 800, super: "Resurrezione", superHealing: 2000, gadgets: [{ name: "Salsiccia Piccante", description: "Bonus danno." }], starPowers: [{ name: "Ricetta Segreta", description: "Cura più efficace." }] }, tips: ["Cura gli alleati in prima linea."] },
            { name: "Chuck", description: "Un ferroviere che piazza pali e scatta tra di essi.", rarity: "Mitico", role: "Assassino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000073.png", stats: { hp: 5800, attack: "Martello Ferroviario", attackDamage: 900, super: "Locomotiva", superDamage: 500, gadgets: [{ name: "Binari Falsi", description: "Piazza un palo falso." }], starPowers: [{ name: "Accelerazione", description: "Scatto super più veloce." }] }, tips: ["Usa i pali per aggirare."] },
            { name: "Charlie", description: "Un'artista circense che intrappola i nemici in un bozzolo.", rarity: "Mitico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000074.png", stats: { hp: 4000, attack: "Lancio Bozzolo", attackDamage: 700, super: "Intrappolamento", superDuration: "3 sec", gadgets: [{ name: "Fuga Acrobatica", description: "Scatto veloce." }], starPowers: [{ name: "Bozzolo Rinforzato", description: "Bozzolo più forte." }] }, tips: ["Intrappola i brawler fastidiosi."] },
            { name: "Mico", description: "Una scimmia saltatrice che si muove velocemente e attacca con salti.", rarity: "Mitico", role: "Assassino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000075.png", stats: { hp: 3800, attack: "Salto Acrobatico", attackDamage: 600, super: "Banana Bomb", superDamage: 800, gadgets: [{ name: "Cascata di Banane", description: "Lancia banane." }], starPowers: [{ name: "Acrobazia", description: "Bonus danno dopo il salto." }] }, tips: ["Usa i salti per attaccare."] },
            { name: "Melodie", description: "Una DJ che lancia dischi rimbalzanti e crea armonie.", rarity: "Mitico", role: "Supporto", icon: "https://cdn.brawlify.com/brawlers/borderless/16000078.png", stats: { hp: 4200, attack: "Disco Armonico", attackDamage: 500, super: "Sinfonia Curativa", superHealing: 1000, gadgets: [{ name: "Mix Perfetto", description: "La super si ricarica più velocemente." }], starPowers: [{ name: "Eco Curativo", description: "Cura aggiuntiva." }] }, tips: ["Cura gli alleati con la musica."] },
            { name: "Lily", description: "Una ninja che usa la sua scia per teletrasportarsi e attacca con fiori velenosi.", rarity: "Mitico", role: "Assassino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000081.png", stats: { hp: 4000, attack: "Fiore Velenoso", attackDamage: 700, super: "Scia Teleport", superDamage: 200, gadgets: [{ name: "Petalo Furtivo", description: "Si nasconde nei cespugli." }], starPowers: [{ name: "Ombra Fuggente", description: "Bonus velocità dopo il teletrasporto." }] }, tips: ["Teletrasportati per assaltare."] },
            { name: "Clancy", description: "Un orso polare che lancia palle di neve e crea muri di ghiaccio.", rarity: "Mitico", role: "Peso Massimo", icon: "https://cdn.brawlify.com/brawlers/borderless/16000083.png", stats: { hp: 7000, attack: "Palla di Neve", attackDamage: 800, super: "Muro di Ghiaccio", superHp: 2500, gadgets: [{ name: "Tormenta", description: "Rallenta i nemici." }], starPowers: [{ name: "Congelamento Rapido", description: "Muro più forte." }] }, tips: ["Usa i muri per bloccare."] },
            { name: "Moe", description: "Un pescatore che lancia la sua lenza per attirare i nemici e attacca con la sua canna.", rarity: "Mitico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000084.png", stats: { hp: 4400, attack: "Lenza Affilata", attackDamage: 600, super: "Tiro a Segno", superDamage: 0, gadgets: [{ name: "Ancora di Piombo", description: "Stordisce i nemici." }], starPowers: [{ name: "Presa Forte", description: "Attira più lontano." }] }, tips: ["Attira i brawler fuori posizione."] },
            { name: "Juju", description: "Un giocoliere che lancia palle di fuoco e crea illusioni.", rarity: "Mitico", role: "Artigliere", icon: "https://cdn.brawlify.com/brawlers/borderless/16000087.png", stats: { hp: 3800, attack: "Palla di Fuoco", attackDamage: 700, super: "Illusione di Giocoleria", superDamage: 100, gadgets: [{ name: "Fuoco Fatuo", description: "Crea una piccola fiamma." }], starPowers: [{ name: "Maestro di Fuoco", description: "Bonus danno per il fuoco." }] }, tips: ["Zona con palle di fuoco."] },
            { name: "Ollie", description: "Un orologiaio che spara ingranaggi e manipola il tempo per i nemici.", rarity: "Mitico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000090.png", stats: { hp: 4000, attack: "Lancio Ingranaggi", attackDamage: 500, super: "Distorsione Temporale", superDuration: "2 sec", gadgets: [{ name: "Accelerazione", description: "Accelera gli alleati." }], starPowers: [{ name: "Rallentamento", description: "Rallenta i nemici." }] }, tips: ["Usa la super per bloccare."] },
            { name: "Lumi", description: "Una fata luminosa che spara raggi di luce e acceca i nemici.", rarity: "Mitico", role: "Supporto", icon: "https://cdn.brawlify.com/brawlers/borderless/16000091.png", stats: { hp: 3600, attack: "Raggio Luminoso", attackDamage: 600, super: "Accecamento", superDuration: "1 sec", gadgets: [{ name: "Luce Curativa", description: "Cura gli alleati." }], starPowers: [{ name: "Splendore", description: "Bonus danno per l'accecamento." }] }, tips: ["Acceca i brawler pericolosi."] },
            { name: "Finx", description: "Una sfinge che spara sabbia e crea tempeste di sabbia confuse.", rarity: "Mitico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000092.png", stats: { hp: 4600, attack: "Soffio di Sabbia", attackDamage: 700, super: "Tempesta del Deserto", superDamage: 100, gadgets: [{ name: "Illusione di Sabbia", description: "Crea un clone." }], starPowers: [{ name: "Sabbia Mobili", description: "Rallenta i nemici." }] }, tips: ["Confondi i nemici."] },
            { name: "Jae-yong", description: "Un samurai che attacca con la sua katana e carica attraverso i nemici.", rarity: "Mitico", role: "Assassino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000093.png", stats: { hp: 5800, attack: "Lama Affilata", attackDamage: 1000, super: "Carica del Samurai", superDamage: 1200, gadgets: [{ name: "Parata", description: "Scudo temporaneo." }], starPowers: [{ name: "Colpo Preciso", description: "Bonus danno con la super." }] }, tips: ["Usa la carica per ingaggiare."] },
            { name: "Alli", description: "Un nuovo brawler con abilità uniche da scoprire.", rarity: "Mitico", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000095.png", stats: { hp: 4500, attack: "Attacco Veloce", attackDamage: 750, super: "Super Speciale", superDamage: 900, gadgets: [], starPowers: [] }, tips: ["Sperimenta le sue abilità!"] },

            // Leggendario
            { name: "Spike", description: "Un cactus che spara aculei esplosivi e crea una zona di rallentamento.", rarity: "Leggendario", role: "Cecchino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000005.png", stats: { hp: 3400, attack: "Cactus Acuminato", attackDamage: 520, super: "Bomba Spinoso", superDamage: 100, gadgets: [{ name: "Granata di Spine", description: "Tre granate." }], starPowers: [{ name: "Ghiaccio al Limone", description: "Si cura nella super." }] }, tips: ["Sfrutta il danno ad area."] },
            { name: "Crow", description: "Un corvo avvelenatore che lancia pugnali e salta in aria.", rarity: "Leggendario", role: "Assassino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000012.png", stats: { hp: 3600, attack: "Lancio Pugnale", attackDamage: 400, super: "Assalto Aereo", superDamage: 400, gadgets: [{ name: "Fiala Tossica", description: "Veleno più forte." }], starPowers: [{ name: "Tossicità", description: "I nemici avvelenati subiscono meno danni." }] }, tips: ["Metti pressione con il veleno."] },
            { name: "Leon", description: "Un assassino invisibile che lancia lame e scompare.", rarity: "Leggendario", role: "Assassino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000023.png", stats: { hp: 4400, attack: "Lame a Vortice", attackDamage: 580, super: "Bomba Fumo", superDuration: "6 sec", gadgets: [{ name: "Miraggio", description: "Crea un clone." }], starPowers: [{ name: "Fumo Velato", description: "Bonus velocità quando invisibile." }] }, tips: ["Sorprendi i nemici."] },
            { name: "Sandy", description: "Un brawler assonnato che lancia sabbia e crea una tempesta di sabbia che nasconde.", rarity: "Leggendario", role: "Supporto", icon: "https://cdn.brawlify.com/brawlers/borderless/16000028.png", stats: { hp: 5000, attack: "Rocce Taglienti", attackDamage: 900, super: "Tempesta di Sabbia", superDuration: "9 sec", gadgets: [{ name: "Sonno Riparatore", description: "Si cura da solo." }], starPowers: [{ name: "Sabbia Curativa", description: "Cura gli alleati nella super." }] }, tips: ["Usa la super per nascondere la squadra."] },
            { name: "Amber", description: "Una piromane che spara fiamme continue e crea pozze di fuoco.", rarity: "Leggendario", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000040.png", stats: { hp: 4200, attack: "Fiamme Eterne", attackDamage: 200, super: "Pozza di Fuoco", superDamage: 1000, gadgets: [{ name: "Spruzzo Infuocato", description: "Rallenta i nemici." }], starPowers: [{ name: "Ricarica Rapida", description: "Ricarica più veloce." }] }, tips: ["Brucia le aree."] },
            { name: "Meg", description: "Una bambina che può trasformarsi in un robot gigante.", rarity: "Leggendario", role: "Peso Massimo", icon: "https://cdn.brawlify.com/brawlers/borderless/16000052.png", stats: { hp: 3600, attack: "Spari Laser", attackDamage: 200, super: "Mega Robot", superHp: 7000, gadgets: [{ name: "Attacco Aereo", description: "Salta e atterra." }], starPowers: [{ name: "Auto-Riparazione", description: "Si cura nel robot." }] }, tips: ["Usa il robot per attaccare."] },
            { name: "Surge", description: "Un robot che si potenzia con ogni super e scatta.", rarity: "Leggendario", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000038.png", stats: { hp: 4000, attack: "Colpo Energizzato", attackDamage: 1100, super: "Massima Potenza", superDamage: 400, gadgets: [{ name: "Teletrasporto", description: "Teletrasporto." }], starPowers: [{ name: "Scatto Potenziato", description: "Super più forte." }] }, tips: ["Ottieni potenziamenti rapidamente."] },
            { name: "Chester", description: "Un giullare imprevedibile con super casuali.", rarity: "Leggendario", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000063.png", stats: { hp: 4200, attack: "Lancio Giullare", attackDamage: 600, super: "Mischia Casuale", superDamage: 0, gadgets: [{ name: "Mischia Bombe", description: "Lancia bombe." }], starPowers: [{ name: "Super Forte", description: "Super più forte." }] }, tips: ["Adattati alle super."] },
            { name: "Cordelius", description: "Un fungo con attacchi velenosi e la capacità di trasportare i nemici nel Regno delle Ombre.", rarity: "Leggendario", role: "Assassino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000070.png", stats: { hp: 5000, attack: "Spore Velenose", attackDamage: 700, super: "Regno delle Ombre", superDamage: 200, gadgets: [{ name: "Fungo Guaritore", description: "Si cura da solo." }], starPowers: [{ name: "Ombra Letale", description: "Bonus danno nel Regno delle Ombre." }] }, tips: ["Usa la super per i duelli."] },
            { name: "Kit", description: "Un gatto hacker che salta su alleati/nemici e diventa invulnerabile.", rarity: "Leggendario", role: "Assassino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000076.png", stats: { hp: 3800, attack: "Graffio Laser", attackDamage: 500, super: "Salto Hacker", superDamage: 200, gadgets: [{ name: "Errore di Sistema", description: "Stordisce i nemici." }], starPowers: [{ name: "Cura Rapida", description: "Si cura durante il salto." }] }, tips: ["Salta per attaccare o scappare."] },
            { name: "Draco", description: "Un chitarrista metal che spara note e cavalca un drago.", rarity: "Leggendario", role: "Assaltatore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000080.png", stats: { hp: 5500, attack: "Nota Metallica", attackDamage: 800, super: "Assalto del Drago", superDamage: 1000, gadgets: [{ name: "Riff di Fuoco", description: "Danno ad area." }], starPowers: [{ name: "Danza del Drago", description: "La super rallenta." }] }, tips: ["Usa il drago per sfondare."] },
            { name: "Kenji", description: "Un maestro di arti marziali che attacca rapidamente e schiva i colpi.", rarity: "Leggendario", role: "Assassino", icon: "https://cdn.brawlify.com/brawlers/borderless/16000085.png", stats: { hp: 4000, attack: "Colpi Fulminei", attackDamage: 600, super: "Schivata Perfetta", superDuration: "2 sec", gadgets: [{ name: "Contrattacco", description: "Danno riflesso." }], starPowers: [{ name: "Maestro di Schivata", description: "Bonus danno dopo la schivata." }] }, tips: ["Schiva gli attacchi nemici."] },

            // Cromatico (vecchia rarità, ora Ultra Leggendario)
            { name: "Kaze", description: "Un ninja del vento che spara raffiche e crea un tornado.", rarity: "Cromatico", role: "Controllore", icon: "https://cdn.brawlify.com/brawlers/borderless/16000094.png", stats: { hp: 4000, attack: "Raffica di Vento", attackDamage: 600, super: "Tornado del Vento", superDamage: 100, gadgets: [{ name: "Soffio Leggero", description: "Scatto veloce." }], starPowers: [{ name: "Vento Furioso", description: "Tornado più grande." }] }, tips: ["Usa il tornado per intrappolare."] }
        ];

        // Dati mappa (rimangono invariati rispetto alla versione precedente)
        const allMapsData = [
            {
                name: "Caccia al Tesoro",
                mode: "Arraffagemme",
                mapImage: getPlaceholderImage(400, 200, "28a745", "FFFFFF", "Caccia+al+Tesoro"),
                modeImage: "https://cdn.brawlify.com/game-modes/regular/48000000.png",
                bestBrawlers: ["Poco", "Pam", "Jessie"].map(name => allBrawlersData.find(b => b.name === name))
            },
            {
                name: "Rapina al Centro",
                mode: "Rapina",
                mapImage: getPlaceholderImage(400, 200, "dc3545", "FFFFFF", "Rapina+al+Centro"),
                modeImage: "https://cdn.brawlify.com/game-modes/regular/48000002.png",
                bestBrawlers: ["Shelly", "Bull", "Colt"].map(name => allBrawlersData.find(b => b.name === name))
            },
            {
                name: "Zona Calda: Anello di Fuoco",
                mode: "Zona Calda",
                mapImage: getPlaceholderImage(400, 200, "6f42c1", "FFFFFF", "Anello+di+Fuoco"),
                modeImage: getPlaceholderImage(50, 50, "9C27B0", "FFFFFF", "🔥"), // Ancora segnaposto
                bestBrawlers: ["Rosa", "Amber", "Spike"].map(name => allBrawlersData.find(b => b.name === name))
            },
            {
                name: "Footbrawl: Centro Campo",
                mode: "Footbrawl",
                mapImage: getPlaceholderImage(400, 200, "007bff", "FFFFFF", "Centro+Campo"),
                modeImage: "https://cdn.brawlify.com/game-modes/regular/48000005.png",
                bestBrawlers: ["Mortis", "El Primo", "Frank"].map(name => allBrawlersData.find(b => b.name === name))
            },
            {
                name: "Ricercati: Fuga Stellare",
                mode: "Ricercati",
                mapImage: getPlaceholderImage(400, 200, "fd7e14", "FFFFFF", "Fuga+Stellare"),
                modeImage: "https://cdn.brawlify.com/game-modes/regular/48000003.png",
                bestBrawlers: ["Piper", "Bea", "Brock"].map(name => allBrawlersData.find(b => b.name === name))
            },
            {
                name: "Sopravvivenza: Isola del Teschio",
                mode: "Sopravvivenza",
                mapImage: getPlaceholderImage(400, 200, "343a40", "FFFFFF", "Isola+del+Teschio"),
                modeImage: "https://cdn.brawlify.com/game-modes/regular/48000006.png",
                bestBrawlers: ["Bull", "Shelly", "Leon"].map(name => allBrawlersData.find(b => b.name === name))
            },
            // Nuove mappe segnaposto per K.O. e Dominio
            {
                name: "Caos di Mezzanotte",
                mode: "K.O.",
                mapImage: getPlaceholderImage(400, 200, "F7831C", "FFFFFF", "Caos+di+Mezzanotte"),
                modeImage: "https://cdn.brawlify.com/game-modes/regular/48000020.png",
                bestBrawlers: ["Piper", "Brock", "Belle"].map(name => allBrawlersData.find(b => b.name === name))
            },
            {
                name: "Fortezza del Controllo",
                mode: "Dominio",
                mapImage: getPlaceholderImage(400, 200, "E33B50", "FFFFFF", "Fortezza+del+Controllo"),
                modeImage: "https://cdn.brawlify.com/game-modes/regular/48000017.png",
                bestBrawlers: ["Ash", "Frank", "El Primo"].map(name => allBrawlersData.find(b => b.name === name))
            },
            {   // Mappa segnaposto per Duelli
                name: "Arena del Duello",
                mode: "Duelli",
                mapImage: getPlaceholderImage(400, 200, "FFD700", "000000", "Arena+del+Duello"),
                modeImage: "https://cdn.brawlify.com/game-modes/regular/48000024.png",
                bestBrawlers: ["Crow", "Leon", "Edgar"].map(name => allBrawlersData.find(b => b.name === name))
            }
        ];

        // Dati per i filtri di modalità (aggiornati con nuovi colori e icone delle modalità)
        const availableModesData = [
            { name: "Tutte le Modalità", icon: getPlaceholderImage(50, 50, "6c757d", "FFFFFF", "ALL"), filter: null, bgColor: "6c757d" },
            { name: "Arraffagemme", icon: "https://cdn.brawlify.com/game-modes/regular/48000000.png", filter: "Arraffagemme", bgColor: "9A3DF3" },
            { name: "Rapina", icon: "https://cdn.brawlify.com/game-modes/regular/48000002.png", filter: "Rapina", bgColor: "D65CD3" },
            { name: "Zona Calda", icon: getPlaceholderImage(50, 50, "9C27B0", "FFFFFF", "🔥"), filter: "Zona Calda", bgColor: "6f42c1" }, // Ancora segnaposto
            { name: "Footbrawl", icon: "https://cdn.brawlify.com/game-modes/regular/48000005.png", filter: "Footbrawl", bgColor: "8CA0E0" },
            { name: "Ricercati", icon: "https://cdn.brawlify.com/game-modes/regular/48000003.png", filter: "Ricercati", bgColor: "00CFFF" },
            { name: "Sopravvivenza", icon: "https://cdn.brawlify.com/game-modes/regular/48000006.png", filter: "Sopravvivenza", bgColor: "343a40" },
            { name: "K.O.", icon: "https://cdn.brawlify.com/game-modes/regular/48000020.png", filter: "K.O.", bgColor: "F7831C" },
            { name: "Dominio", icon: "https://cdn.brawlify.com/game-modes/regular/48000017.png", filter: "Dominio", bgColor: "E33B50" },
            { name: "Duelli", icon: "https://cdn.brawlify.com/game-modes/regular/48000024.png", filter: "Duelli", bgColor: "FFD700" } // Nuova modalità
        ];


        // Dati delle classi dei brawler (aggiornati con più brawler e ruoli coerenti)
        const brawlerClassesData = {
            "Assassini": { emoji: "🔪", brawlers: ["Mortis", "Leon", "Crow", "Stu", "Edgar", "Buzz", "Fang", "Shade", "Mico", "Lily", "Jae-yong", "Kit"] },
            "Peso Massimo": { emoji: "💪", brawlers: ["El Primo", "Frank", "Bull", "Rosa", "Darryl", "Jacky", "Ash", "Sam", "Hank", "Bibi", "Buster", "Clancy", "Meg"] },
            "Supporto": { emoji: "🩹", brawlers: ["Poco", "Pam", "Gus", "Byron", "Gene", "Ruffs", "Doug", "Angelo", "Melodie", "Sandy", "Lumi", "Max"] },
            "Controllori": { emoji: "🌐", brawlers: ["Jessie", "Tick", "Bo", "Emz", "Mr. P", "Lou", "Eve", "Otis", "Gray", "Willow", "Charlie", "Moe", "Ollie", "Finx", "Meeple", "Larry & Lawrie", "Kaze"] },
            "Assaltatori": { emoji: "💥", brawlers: ["Shelly", "Colt", "8-Bit", "Griff", "Bonnie", "Colette", "Lola", "Maisie", "Pearl", "Janet", "R-T", "Amber", "Surge", "Chester", "Draco", "Alli"] },
            "Cecchino": { emoji: "🎯", brawlers: ["Brock", "Spike", "Stecca", "Piper", "Bea", "Nani", "Belle", "Mandy", "Kenji"] },
            "Artiglieri": { emoji: "💣", brawlers: ["Bombardino", "Dynamike", "Sprout", "Squeak", "Berry", "Juju", "Grom"] }
        };

        // Stati dell'applicazione (equivalente a useState di React)
        let activeSection = 'home';
        let selectedBrawler = null;
        let selectedModeFilter = null; // Stato per il filtro delle mappe
        let mapSearchQuery = '';
        let brawlerSearchQuery = '';
        let classSearchQuery = '';


        const contentArea = document.getElementById('content-area');
        const navButtons = {
            'home': document.getElementById('home-nav-button'),
            'maps': document.getElementById('maps-nav-button'), // Cambiato in 'maps' per una logica più semplice
            'classes': document.getElementById('classes-nav-button'),
            'brawlers': document.getElementById('brawlers-nav-button'),
            'about': document.getElementById('about-nav-button')
        };

        // Funzione per navigare tra le sezioni
        const navigate = (section, brawlerName = null, modeToDisplay = null) => {
            activeSection = section;
            selectedBrawler = brawlerName ? allBrawlersData.find(b => b.name === brawlerName) : null;
            selectedModeFilter = modeToDisplay; // Imposta il filtro della modalità se viene passata una modalità specifica
            renderSection();
            updateNavButtonStyles();
            // Resetta le query di ricerca quando si cambia sezione, ma solo se non si naviga a una visualizzazione di modalità specifica
            if (section !== 'mapsAndBrawlers' || modeToDisplay === null) {
                mapSearchQuery = '';
            }
            brawlerSearchQuery = '';
            classSearchQuery = '';
        };

        // Aggiorna gli stili dei pulsanti di navigazione
        const updateNavButtonStyles = () => {
            for (const key in navButtons) {
                if (navButtons[key]) {
                    navButtons[key].classList.remove('bg-purple-600');
                    if (
                        (key === 'maps' && (activeSection === 'mapsAndBrawlers' || activeSection === 'gameModesCategories')) ||
                        (key === 'classes' && activeSection === 'brawlerClasses') ||
                        (key === 'brawlers' && (activeSection === 'brawlers' || activeSection === 'brawlerDetail')) ||
                        (key === 'about' && activeSection === 'about') ||
                        (key === 'home' && activeSection === 'home')
                    ) {
                        navButtons[key].classList.add('bg-purple-600');
                    }
                }
            }
        };

        // Funzione per mostrare il modale della mappa
        const showMapModal = (mapImageSrc, mapName) => {
            const modal = document.getElementById('map-modal');
            const modalImage = document.getElementById('modal-map-image');
            const modalName = document.getElementById('modal-map-name');

            modalImage.src = mapImageSrc;
            modalName.textContent = mapName;
            modal.classList.remove('hidden');
        };

        // Funzione per nascondere il modale della mappa
        const hideMapModal = () => {
            document.getElementById('map-modal').classList.add('hidden');
        };


        // --- Funzioni per renderizzare le singole sezioni ---

        const renderHomeSection = () => {
            contentArea.innerHTML = `
                <div class="flex flex-col items-center justify-center min-h-screen p-6 text-white rounded-lg shadow-xl m-4 home-background">
                    <div class="home-content flex flex-col items-center justify-center w-full h-full p-6">
                        <h1 class="text-5xl md:text-7xl font-extrabold mb-6 text-yellow-400 drop-shadow-lg text-center animate-fade-in-down">
                            Benvenuto nell'App di Brawl Stars!
                        </h1>
                        <p class="text-lg md:text-xl text-[#bbbbbb] mb-8 text-center max-w-2xl animate-fade-in-up">
                            Esplora mappe, brawler e scopri tutti i dettagli sul tuo gioco preferito.
                        </p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-3xl">
                            <button id="home-maps-button" class="bg-purple-800 hover:bg-purple-700 text-white font-bold py-4 px-8 rounded-xl shadow-lg transform transition duration-300 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-opacity-50 text-xl">
                                Mappe e Migliori Brawler
                            </button>
                            <button id="home-classes-button" class="bg-purple-800 hover:bg-purple-700 text-white font-bold py-4 px-8 rounded-xl shadow-lg transform transition duration-300 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-opacity-50 text-xl">
                                Classi Brawler
                            </button>
                            <button id="home-brawlers-button" class="bg-purple-800 hover:bg-purple-700 text-white font-bold py-4 px-8 rounded-xl shadow-lg transform transition duration-300 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-opacity-50 text-xl">
                                Brawlers
                            </button>
                            <button id="home-about-button" class="bg-purple-800 hover:bg-purple-700 text-white font-bold py-4 px-8 rounded-xl shadow-lg transform transition duration-300 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-opacity-50 text-xl col-span-full">
                                Informazioni
                            </button>
                        </div>
                    </div>
                </div>
            `;
            // Aggiungi listener ai pulsanti della home
            document.getElementById('home-maps-button').onclick = () => navigate('gameModesCategories'); // Obiettivo cambiato alle categorie delle modalità di gioco
            document.getElementById('home-classes-button').onclick = () => navigate('brawlerClasses');
            document.getElementById('home-brawlers-button').onclick = () => navigate('brawlers');
            document.getElementById('home-about-button').onclick = () => navigate('about');
        };

        const renderGameModesCategories = () => {
            let categoriesHtml = '';
            // Filtra "Tutte le Modalità" in quanto non è una singola categoria per la visualizzazione iniziale
            const mainCategories = availableModesData.filter(mode => mode.filter !== null);

            // Assegna dinamicamente le colonne della griglia in base al numero di elementi per la reattività
            const gridColsClass = mainCategories.length <= 3 ? 'grid-cols-1 md:grid-cols-3' : 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3';

            mainCategories.forEach(mode => {
                const cardBgColor = mode.bgColor;
                categoriesHtml += `
                    <button data-mode-name="${mode.filter}" style="background-color: #${cardBgColor};"
                            class="game-mode-category-button flex flex-col items-center justify-center p-6 rounded-xl shadow-lg
                                   transform transition duration-300 hover:scale-105 border-2 border-zinc-700
                                   focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-opacity-50 text-white
                                   w-full h-48 md:h-56 text-center">
                        <img src="${mode.icon}" alt="${mode.name}" class="w-20 h-20 rounded-md mb-4 object-cover border-4 border-white shadow-lg" />
                        <h3 class="text-3xl font-bold">${mode.name}</h3>
                    </button>
                `;
            });

            contentArea.innerHTML = `
                <div class="p-6 bg-[rgba(30,30,30,1)] min-h-screen text-white rounded-lg shadow-xl m-4">
                    <h2 class="text-4xl font-bold mb-8 text-center text-yellow-300">Seleziona una Modalità di Gioco</h2>
                    <div class="grid ${gridColsClass} gap-6">
                        ${categoriesHtml}
                    </div>
                </div>
            `;

            contentArea.querySelectorAll('.game-mode-category-button').forEach(button => {
                button.onclick = (event) => {
                    const modeName = event.currentTarget.dataset.modeName;
                    navigate('mapsAndBrawlers', null, modeName);
                };
            });
        };


        const renderMapsAndBestBrawlers = () => {
            const lowerCaseMapSearchQuery = mapSearchQuery.toLowerCase();
            const mapsToDisplay = selectedModeFilter
                ? allMapsData.filter(map => map.mode === selectedModeFilter)
                : allMapsData; // Mostra tutto se nessuna modalità specifica è selezionata

            const filteredMaps = mapsToDisplay.filter(map =>
                map.name.toLowerCase().includes(lowerCaseMapSearchQuery)
            );

            let mapsHtml = '';
            if (filteredMaps.length > 0) {
                filteredMaps.forEach(map => {
                    let brawlersListHtml = '';
                    map.bestBrawlers.forEach(brawler => {
                        if (brawler) {
                            const rarityColorStyle = `color: ${getRarityTextColor(brawler.rarity)};`;
                            const rarityBorderStyle = `border-color: ${getRarityBorderColor(brawler.rarity)};`;
                            brawlersListHtml += `
                                <li class="flex items-center mb-2 last:mb-0">
                                    <button data-brawler-name="${brawler.name}" class="brawler-detail-button flex items-center p-2 rounded-lg hover:bg-zinc-700 transition duration-200 w-full text-left">
                                        <img src="${brawler.icon}" alt="${brawler.name}" class="w-8 h-8 rounded-md mr-2 object-cover border-2 shadow-md" style="${rarityBorderStyle}" />
                                        <span class="text-md font-medium" style="${rarityColorStyle}">${brawler.name}</span>
                                    </button>
                                </li>
                            `;
                        }
                    });

                    mapsHtml += `
                        <div class="bg-gradient-to-br from-zinc-800 to-zinc-900 p-6 rounded-xl shadow-lg border border-zinc-700 transform transition duration-300 hover:scale-105 flex flex-col items-center">
                            <h3 class="text-2xl font-semibold mb-2 text-white text-center">${map.name}</h3>
                            <img src="${map.mapImage}" alt="Mappa: ${map.name}" class="map-image-clickable w-full h-auto rounded-lg mb-4 object-cover border border-zinc-600 cursor-pointer" data-map-image="${map.mapImage}" data-map-name="${map.name}" />
                            <div class="flex items-center mb-4">
                                <img src="${map.modeImage}" alt="Modalità: ${map.mode}" class="w-10 h-10 rounded-md mr-2 object-cover border-2 border-yellow-400 shadow-md" />
                                <p class="text-lg text-[#bbbbbb]">Modalità: <span class="font-medium">${map.mode}</span></p>
                            </div>
                            <p class="text-lg text-[#bbbbbb] mb-2">Migliori Brawler:</p>
                            <ul class="list-none p-0 w-full">
                                ${brawlersListHtml}
                            </ul>
                        </div>
                    `;
                });
            } else {
                mapsHtml = `<p class="text-center text-xl text-gray-400 col-span-full">Nessuna mappa trovata per la ricerca e i filtri selezionati.</p>`;
            }


            let modeFilterButtonsHtml = '';
            // Mostra sempre tutti i pulsanti di filtro modalità per consentire il cambio di modalità
            availableModesData.forEach(mode => {
                const isActive = selectedModeFilter === mode.filter ? 'bg-purple-600 border-purple-400' : 'hover:bg-zinc-700 border-zinc-700';
                modeFilterButtonsHtml += `
                    <button data-mode-filter="${mode.filter}" class="mode-filter-button flex flex-col items-center p-3 rounded-xl transition duration-300 ${isActive} border-2">
                        <img src="${mode.icon}" alt="${mode.name}" class="w-12 h-12 rounded-md mb-2 object-cover" />
                        <span class="text-sm font-medium text-white">${mode.name}</span>
                    </button>
                `;
            });

            contentArea.innerHTML = `
                <div class="p-6 bg-[rgba(30,30,30,1)] min-h-screen text-white rounded-lg shadow-xl m-4">
                    <button id="back-to-categories" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-full shadow-md transform transition duration-200 hover:scale-105 mb-6 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        Torna alle Categorie
                    </button>
                    <h2 class="text-4xl font-bold mb-8 text-center text-yellow-300">Mappe e Migliori Brawler</h2>

                    <div class="mb-8 p-4 bg-zinc-800 rounded-xl shadow-lg border border-zinc-700">
                        <h3 class="text-2xl font-semibold text-white mb-4 text-center">Filtra per Modalità</h3>
                        <div id="mode-filter-container" class="flex flex-wrap justify-center gap-4">
                            ${modeFilterButtonsHtml}
                        </div>
                    </div>

                    <div class="mb-8 p-4 bg-zinc-800 rounded-xl shadow-lg border border-zinc-700">
                        <label for="map-search" class="block text-xl font-semibold text-white mb-2">Cerca Mappa per Nome:</label>
                        <input type="text" id="map-search" value="${mapSearchQuery}" placeholder="Es. Caccia al Tesoro"
                               class="w-full p-3 rounded-lg bg-zinc-700 text-white border border-zinc-600 focus:outline-none focus:ring-2 focus:ring-purple-500">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        ${mapsHtml}
                    </div>
                </div>
            `;

            // Aggiungi listener per gli elementi creati dinamicamente
            contentArea.querySelectorAll('.brawler-detail-button').forEach(button => {
                button.onclick = (event) => navigate('brawlerDetail', event.currentTarget.dataset.brawlerName);
            });
            contentArea.querySelectorAll('.mode-filter-button').forEach(button => {
                button.onclick = (event) => {
                    // Aggiorna il filtro e renderizza di nuovo le mappe
                    selectedModeFilter = event.currentTarget.dataset.modeFilter === 'null' ? null : event.currentTarget.dataset.modeFilter;
                    mapSearchQuery = ''; // Resetta la ricerca quando si cambia il filtro della modalità
                    renderMapsAndBestBrawlers();
                };
            });
            document.getElementById('map-search').oninput = (event) => {
                mapSearchQuery = event.target.value;
                renderMapsAndBestBrawlers(); // Renderizza di nuovo per applicare il filtro di ricerca
            };
            contentArea.querySelectorAll('.map-image-clickable').forEach(img => {
                img.onclick = (event) => {
                    showMapModal(event.currentTarget.dataset.mapImage, event.currentTarget.dataset.mapName);
                };
            });
            document.getElementById('back-to-categories').onclick = () => navigate('gameModesCategories');
        };

        const renderBrawlerClasses = () => {
            const lowerCaseClassSearchQuery = classSearchQuery.toLowerCase();
            const filteredClasses = Object.entries(brawlerClassesData).filter(([className, data]) =>
                className.toLowerCase().includes(lowerCaseClassSearchQuery)
            );

            let classesHtml = '';
            if (filteredClasses.length > 0) {
                filteredClasses.forEach(([className, data]) => {
                    let brawlersListHtml = '';
                    data.brawlers.forEach(brawlerName => {
                        const brawler = allBrawlersData.find(b => b.name === brawlerName);
                        if (brawler) {
                            const rarityColorStyle = `color: ${getRarityTextColor(brawler.rarity)};`;
                            const rarityBorderStyle = `border-color: ${getRarityBorderColor(brawler.rarity)};`;
                            brawlersListHtml += `
                                <li class="flex items-center mb-2 last:mb-0">
                                    <button data-brawler-name="${brawler.name}" class="brawler-detail-button flex items-center p-2 rounded-lg hover:bg-zinc-700 transition duration-200 w-full text-left">
                                        <img src="${brawler.icon}" alt="${brawler.name}" class="w-8 h-8 rounded-md mr-2 object-cover border-2 shadow-md" style="${rarityBorderStyle}" />
                                        <span class="text-md font-medium" style="${rarityColorStyle}">${brawler.name}</span>
                                    </button>
                                </li>
                            `;
                        }
                    });

                    classesHtml += `
                        <div class="bg-gradient-to-br from-zinc-800 to-zinc-900 p-6 rounded-xl shadow-lg border border-zinc-700 transform transition duration-300 hover:scale-105">
                            <h3 class="text-2xl font-semibold mb-4 text-white flex items-center">
                                <span class="mr-2 text-3xl">${data.emoji}</span> ${className}
                            </h3>
                            <ul class="list-none p-0">
                                ${brawlersListHtml}
                            </ul>
                        </div>
                    `;
                });
            } else {
                classesHtml = `<p class="text-center text-xl text-gray-400 col-span-full">Nessuna classe trovata per la ricerca selezionata.</p>`;
            }

            contentArea.innerHTML = `
                <div class="p-6 bg-[rgba(30,30,30,1)] min-h-screen text-white rounded-lg shadow-xl m-4">
                    <h2 class="text-4xl font-bold mb-8 text-center text-yellow-300">Classi dei Brawler</h2>

                    <div class="mb-8 p-4 bg-zinc-800 rounded-xl shadow-lg border border-zinc-700">
                        <label for="class-search" class="block text-xl font-semibold text-white mb-2">Cerca Classe per Nome:</label>
                        <input type="text" id="class-search" value="${classSearchQuery}" placeholder="Es. Assassini"
                               class="w-full p-3 rounded-lg bg-zinc-700 text-white border border-zinc-600 focus:outline-none focus:ring-2 focus:ring-purple-500">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        ${classesHtml}
                    </div>
                </div>
            `;
            contentArea.querySelectorAll('.brawler-detail-button').forEach(button => {
                button.onclick = (event) => navigate('brawlerDetail', event.currentTarget.dataset.brawlerName);
            });
            document.getElementById('class-search').oninput = (event) => {
                classSearchQuery = event.target.value;
                renderBrawlerClasses(); // Renderizza di nuovo per applicare il filtro di ricerca
            };
        };

        const renderBrawlersSection = () => { // Rinomina da renderBrawlerDescription
            const lowerCaseBrawlerSearchQuery = brawlerSearchQuery.toLowerCase();
            const filteredBrawlers = allBrawlersData.filter(brawler =>
                brawler.name.toLowerCase().includes(lowerCaseBrawlerSearchQuery)
            );

            let brawlersHtml = '';
            if (filteredBrawlers.length > 0) {
                filteredBrawlers.forEach(brawler => {
                    const rarityColorStyle = `color: ${getRarityTextColor(brawler.rarity)};`;
                    const rarityBorderStyle = `border-color: ${getRarityBorderColor(brawler.rarity)};`;
                    brawlersHtml += `
                        <div class="bg-gradient-to-br from-zinc-800 to-zinc-900 p-6 rounded-xl shadow-lg border border-zinc-700 transform transition duration-300 hover:scale-105 flex flex-col items-center text-center">
                            <div class="flex items-center mb-4">
                                <img src="${brawler.icon}" alt="${brawler.name}" class="w-16 h-16 rounded-md mr-4 object-cover border-2 shadow-md" style="${rarityBorderStyle}" />
                                <div>
                                    <h3 class="text-3xl font-semibold" style="${rarityColorStyle}">${brawler.name}</h3>
                                    <p class="text-lg text-[#bbbbbb]">Rarità: <span class="font-medium">${brawler.rarity}</span></p>
                                    <p class="text-lg text-[#bbbbbb]">Ruolo: <span class="font-medium">${brawler.role}</span></p>
                                </div>
                            </div>
                            <p class="text-base text-[#bbbbbb] mb-4">${brawler.description}</p>
                            <button data-brawler-name="${brawler.name}" class="brawler-detail-button mt-4 bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-3 px-6 rounded-full shadow-lg transform transition duration-300 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-yellow-400 focus:ring-opacity-50 text-lg w-full max-w-xs mx-auto">
                                Vedi Dettagli
                            </button>
                        </div>
                    `;
                });
            } else {
                brawlersHtml = `<p class="text-center text-xl text-gray-400 col-span-full">Nessun brawler trovato per la ricerca selezionata.</p>`;
            }


            contentArea.innerHTML = `
                <div class="p-6 bg-[rgba(30,30,30,1)] min-h-screen text-white rounded-lg shadow-xl m-4">
                    <h2 class="text-4xl font-bold mb-8 text-center text-yellow-300">Brawlers</h2>

                    <div class="mb-8 p-4 bg-zinc-800 rounded-xl shadow-lg border border-zinc-700">
                        <label for="brawler-search" class="block text-xl font-semibold text-white mb-2">Cerca Brawler per Nome:</label>
                        <input type="text" id="brawler-search" value="${brawlerSearchQuery}" placeholder="Es. Shelly"
                               class="w-full p-3 rounded-lg bg-zinc-700 text-white border border-zinc-600 focus:outline-none focus:ring-2 focus:ring-purple-500">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        ${brawlersHtml}
                    </div>
                </div>
            `;
            contentArea.querySelectorAll('.brawler-detail-button').forEach(button => {
                button.onclick = (event) => navigate('brawlerDetail', event.currentTarget.dataset.brawlerName);
            });
            document.getElementById('brawler-search').oninput = (event) => {
                brawlerSearchQuery = event.target.value;
                renderBrawlersSection(); // Renderizza di nuovo per applicare il filtro di ricerca
            };
        };

        const renderBrawlerDetail = () => {
            if (!selectedBrawler) {
                contentArea.innerHTML = `
                    <div class="flex flex-col items-center justify-center min-h-screen p-6 bg-[rgba(30,30,30,1)] text-white rounded-lg shadow-xl m-4">
                        <h2 class="text-4xl font-bold mb-6 text-yellow-300">Brawler non trovato!</h2>
                        <p class="text-lg text-[#bbbbbb] mb-8">Si prega di selezionare un brawler valido.</p>
                        <button id="back-from-detail" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-xl shadow-lg transform transition duration-300 hover:scale-105">
                            Torna Indietro
                        </button>
                    </div>
                `;
                document.getElementById('back-from-detail').onclick = () => navigate('brawlers');
                return;
            }

            const rarityColorStyle = `color: ${getRarityTextColor(selectedBrawler.rarity)};`;
            const rarityBorderStyle = `border-color: ${getRarityBorderColor(selectedBrawler.rarity)};`;

            let gadgetsHtml = selectedBrawler.stats.gadgets.length > 0 ?
                `<ul class="list-disc list-inside ml-4">
                    ${selectedBrawler.stats.gadgets.map(g => `
                        <li class="mb-2">
                            <p class="text-lg text-[#bbbbbb] font-medium text-white">${g.name}:</p>
                            <p class="text-base text-[#bbbbbb]">${g.description}</p>
                        </li>
                    `).join('')}
                </ul>` : `<p class="text-lg text-[#bbbbbb]">Nessun gadget disponibile.</p>`;

            let starPowersHtml = selectedBrawler.stats.starPowers.length > 0 ?
                `<ul class="list-disc list-inside ml-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                    ${selectedBrawler.stats.starPowers.map(sp => `
                        <li class="mb-2">
                            <p class="text-lg text-[#bbbbbb] font-medium text-white">${sp.name}:</p>
                            <p class="text-base text-[#bbbbbb]">${sp.description}</p>
                        </li>
                    `).join('')}
                </ul>` : `<p class="text-lg text-[#bbbbbb]">Nessuna Star Power disponibile.</p>`;

            let tipsHtml = selectedBrawler.tips.length > 0 ?
                `<ul class="list-disc list-inside ml-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                    ${selectedBrawler.tips.map(tip => `
                        <li class="text-lg text-[#bbbbbb] mb-2 last:mb-0">${tip}</li>
                    `).join('')}
                </ul>` : `<p class="text-lg text-[#bbbbbb]">Nessun consiglio disponibile.</p>`;


            contentArea.innerHTML = `
                <div class="p-6 bg-[rgba(30,30,30,1)] min-h-screen text-white rounded-lg shadow-xl m-4">
                    <button id="back-from-detail" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-full shadow-md transform transition duration-200 hover:scale-105 mb-6 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        Torna Indietro
                    </button>

                    <div class="flex flex-col md:flex-row items-center md:items-start mb-8 bg-gradient-to-br from-zinc-800 to-zinc-900 p-6 rounded-xl shadow-lg border border-zinc-700">
                        <img src="${selectedBrawler.icon}" alt="${selectedBrawler.name}" class="w-32 h-32 md:w-48 md:h-48 rounded-md border-4 border-yellow-400 mb-4 md:mb-0 md:mr-8 object-cover shadow-lg" style="${rarityBorderStyle}"/>
                        <div class="text-center md:text-left">
                            <h2 class="text-5xl font-extrabold text-white mb-2" style="${rarityColorStyle}">${selectedBrawler.name}</h2>
                            <p class="text-xl text-[#bbbbbb] mb-1">Rarità: <span class="font-semibold text-white">${selectedBrawler.rarity}</span></p>
                            <p class="text-xl text-[#bbbbbb]">Ruolo: <span class="font-semibold text-white">${selectedBrawler.role}</span></p>
                            <p class="text-md text-[#bbbbbb] mt-4 max-w-xl">${selectedBrawler.description}</p>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-gradient-to-br from-zinc-800 to-zinc-900 p-6 rounded-xl shadow-lg border border-zinc-700">
                            <h3 class="text-2xl font-bold text-white mb-4">Statistiche Base</h3>
                            <p class="text-lg text-[#bbbbbb] mb-2">HP: <span class="font-medium text-white">${selectedBrawler.stats.hp}</span></p>
                            <p class="text-lg text-[#bbbbbb] mb-2">Attacco: <span class="font-medium text-white">${selectedBrawler.stats.attack}</span></p>
                            <p class="text-lg text-[#bbbbbb] mb-2">Danno Attacco: <span class="font-medium text-white">${selectedBrawler.stats.attackDamage}</span></p>
                            <p class="text-lg text-[#bbbbbb] mb-2">Super: <span class="font-medium text-white">${selectedBrawler.stats.super}</span></p>
                            <p class="text-lg text-[#bbbbbb]">Danno Super: <span class="font-medium text-white">${selectedBrawler.stats.superDamage || selectedBrawler.stats.superHealing || "N/A"}</span></p>
                        </div>

                        <div class="bg-gradient-to-br from-zinc-800 to-zinc-900 p-6 rounded-xl shadow-lg border border-zinc-700">
                            <h3 class="text-2xl font-bold text-white mb-4">Gadget</h3>
                            ${gadgetsHtml}
                        </div>

                        <div class="bg-gradient-to-br from-zinc-800 to-zinc-900 p-6 rounded-xl shadow-lg border border-zinc-700 lg:col-span-2">
                            <h3 class="text-2xl font-bold text-white mb-4">Star Power</h3>
                            ${starPowersHtml}
                        </div>

                        <div class="bg-gradient-to-br from-zinc-800 to-zinc-900 p-6 rounded-xl shadow-lg border border-zinc-700 lg:col-span-2">
                            <h3 class="text-2xl font-bold text-white mb-4">Consigli per l'Uso</h3>
                            ${tipsHtml}
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('back-from-detail').onclick = () => navigate('brawlers');
        };

        const renderAboutSection = () => {
            contentArea.innerHTML = `
                <div class="flex flex-col items-center justify-center min-h-screen p-6 bg-[rgba(30,30,30,1)] text-white rounded-lg shadow-xl m-4">
                    <h2 class="text-4xl font-bold mb-6 text-yellow-300 text-center">Informazioni su questa App</h2>
                    <p class="text-lg md:text-xl text-[#bbbbbb] mb-8 text-center max-w-2xl">
                        Questa è un'applicazione personale creata per esplorare e organizzare informazioni sul gioco Brawl Stars.
                        Spero ti sia utile per scoprire dettagli sui brawler, le mappe e le loro sinergie.
                    </p>
                    <p class="text-md text-gray-400 text-center">
                        Realizzato con HTML, CSS (Tailwind CSS) e JavaScript.
                    </p>
                    <button id="back-from-about" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-xl shadow-lg transform transition duration-300 hover:scale-105 mt-8">
                        Torna alla Home
                    </button>
                </div>
            `;
            document.getElementById('back-from-about').onclick = () => navigate('home');
        };

        // Funzione per renderizzare la sezione corrente
        const renderSection = () => {
            switch (activeSection) {
                case 'home':
                    renderHomeSection();
                    break;
                case 'gameModesCategories': // Nuovo caso per la schermata iniziale delle mappe
                    renderGameModesCategories();
                    break;
                case 'mapsAndBrawlers':
                    renderMapsAndBestBrawlers();
                    break;
                case 'brawlerClasses':
                    renderBrawlerClasses();
                    break;
                case 'brawlers':
                    renderBrawlersSection();
                    break;
                case 'brawlerDetail':
                    renderBrawlerDetail();
                    break;
                case 'about':
                    renderAboutSection();
                    break;
                default:
                    renderHomeSection();
            }
        };

        // --- Listener globali per la navigazione e il modale ---
        document.addEventListener('DOMContentLoaded', () => {
            // Listener per i pulsanti di navigazione principali
            navButtons['home'].onclick = () => navigate('home');
            navButtons['maps'].onclick = () => navigate('gameModesCategories'); // Pulsante mappe cambiato per navigare alle categorie
            navButtons['classes'].onclick = () => navigate('brawlerClasses');
            navButtons['brawlers'].onclick = () => navigate('brawlers');
            navButtons['about'].onclick = () => navigate('about');

            // Listener per chiudere il modale della mappa
            document.getElementById('close-map-modal').onclick = hideMapModal;
            document.getElementById('map-modal').onclick = (event) => {
                if (event.target === event.currentTarget) { // Chiudi solo se si clicca sull'overlay
                    hideMapModal();
                }
            };

            // Renderizza la sezione iniziale quando la pagina viene caricata
            renderSection();
            updateNavButtonStyles(); // Aggiorna gli stili iniziali
        });
    </script>

</body>
</html>
